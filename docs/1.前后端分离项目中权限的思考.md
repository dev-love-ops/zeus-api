#### 背景介绍

&emsp;最近在开发zeus开发系统的时候, 在设计用户的权限的时候遇到了一些困难, 之前接触的都是前后端不分离的项目, 权限都是从后端实现的, 后端可以控制前端的渲染, 所以权限还是比较容易控制的, 但是现在都是前后端分离的模式.


#### 权限设计原则

前后端分离的时候, 后端的责任:

* 提供数据接口, 一般是restful风格json格式的数据.

前端的责任: 

* 路由控制
* 页面渲染

这时候如果要设计一个权限系统的话要满足如下的几个点:

* 后端接口的权限控制

后端接口就是HTTP方法+URL路径, 比如创建用户接口是`POST /api/user`

* 前端路由跳转的权限控制

前端页面的路由总共可以分为两种, 一种是菜单栏中显示的菜单, 另一种是左侧菜单中没有的页面路由, 对于第一种情况的话, 我们完全可以根据菜单栏的数据的有无来进行拦截, 菜单栏是保存在数据库中的, 通过接口返回给前端, 对于第二种情况, 一般也比较少, 也可以直接放到数据库中进行存储.

* 前端页面菜单栏按钮的显示与否

这里的菜单就是我们常见的一级菜单和二级菜单, 三级菜单很少见, 所以这里我们按照总共就两级菜单来处理, 如果两级菜单后还需要分的话, 可以使用iview的Tabs属性在主页面这种区分.

* 前端部分组件的权限控制

比如按钮的显示与否, 其他组件的等, 一般按钮比较多的.

前端能看到的菜单/按钮都是有权限操作的, 没有权限的也不会显示出来

#### 权限模型的选择

根据我的经历, 也看了很多开源项目的权限设计, 最终我决定采用`RBAC`模型.用户--角色--权限



